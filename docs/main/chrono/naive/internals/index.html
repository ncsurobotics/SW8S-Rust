<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The internal implementation of the calendar and ordinal date."><title>chrono::naive::internals - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../static.files/rustdoc-ac92e1bbe349e143.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="chrono" data-themes="" data-resource-suffix="" data-rustdoc-version="1.76.0 (07dca489a 2024-02-04)" data-channel="1.76.0" data-search-js="search-2b6ce74ff89ae146.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../../static.files/storage-f2adc0d6ca4d09fb.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../static.files/main-305769736d49e732.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-feafe1bb7466e4bd.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../chrono/index.html">chrono</a><span class="version">0.4.34</span></h2></div><h2 class="location"><a href="#">Module internals</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#constants">Constants</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Aliases</a></li></ul></section><h2><a href="../index.html">In chrono::naive</a></h2></div></nav><div class="sidebar-resizer"></div>
    <main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../../../chrono/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press â€˜Sâ€™ to search, â€˜?â€™ for more optionsâ€¦" type="search"><div id="help-button" tabindex="-1"><a href="../../../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../../index.html">chrono</a>::<wbr><a href="../index.html">naive</a>::<wbr><a class="mod" href="#">internals</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../../src/chrono/naive/internals.rs.html#4-898">source</a> Â· <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The internal implementation of the calendar and ordinal date.</p>
<p>The current implementation is optimized for determining year, month, day and day of week.
4-bit <code>YearFlags</code> map to one of 14 possible classes of year in the Gregorian calendar,
which are included in every packed <code>NaiveDate</code> instance.
The conversion between the packed calendar date (<code>Mdf</code>) and the ordinal date (<code>Of</code>) is
based on the moderately-sized lookup table (~1.5KB)
and the packed representation is chosen for the efficient lookup.
Every internal data structure does not validate its input,
but the conversion keeps the valid value valid and the invalid value invalid
so that the user-facing <code>NaiveDate</code> can validate the input as late as possible.</p>
</div></details><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.Mdf.html" title="struct chrono::naive::internals::Mdf">Mdf</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </div><div class="desc docblock-short">Month, day of month and year flags: <code>(month &lt;&lt; 9) | (day &lt;&lt; 4) | flags</code></div></li><li><div class="item-name"><a class="struct" href="struct.Of.html" title="struct chrono::naive::internals::Of">Of</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </div><div class="desc docblock-short">Ordinal (day of year) and year flags: <code>(ordinal &lt;&lt; 4) | flags</code>.</div></li><li><div class="item-name"><a class="struct" href="struct.YearFlags.html" title="struct chrono::naive::internals::YearFlags">YearFlags</a></div><div class="desc docblock-short">The year flags (aka the dominical letter).</div></li></ul><h2 id="constants" class="section-header"><a href="#constants">Constants</a></h2><ul class="item-table"><li><div class="item-name"><a class="constant" href="constant.A.html" title="constant chrono::naive::internals::A">A</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.AG.html" title="constant chrono::naive::internals::AG">AG</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.B.html" title="constant chrono::naive::internals::B">B</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.BA.html" title="constant chrono::naive::internals::BA">BA</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.C.html" title="constant chrono::naive::internals::C">C</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.CB.html" title="constant chrono::naive::internals::CB">CB</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.D.html" title="constant chrono::naive::internals::D">D</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.DC.html" title="constant chrono::naive::internals::DC">DC</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.E.html" title="constant chrono::naive::internals::E">E</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.ED.html" title="constant chrono::naive::internals::ED">ED</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.F.html" title="constant chrono::naive::internals::F">F</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.FE.html" title="constant chrono::naive::internals::FE">FE</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.G.html" title="constant chrono::naive::internals::G">G</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.GF.html" title="constant chrono::naive::internals::GF">GF</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.MAX_MDL.html" title="constant chrono::naive::internals::MAX_MDL">MAX_MDL</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.MAX_OL.html" title="constant chrono::naive::internals::MAX_OL">MAX_OL</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.MAX_YEAR.html" title="constant chrono::naive::internals::MAX_YEAR">MAX_YEAR</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </div><div class="desc docblock-short">MAX_YEAR is one year less than the type is capable of representing. Internally we may sometimes
use the headroom, notably to handle cases where the offset of a <code>DateTime</code> constructed with
<code>NaiveDate::MAX</code> pushes it beyond the valid, representable range.</div></li><li><div class="item-name"><a class="constant" href="constant.MDL_TO_OL.html" title="constant chrono::naive::internals::MDL_TO_OL">MDL_TO_OL</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.MIN_OL.html" title="constant chrono::naive::internals::MIN_OL">MIN_OL</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.MIN_YEAR.html" title="constant chrono::naive::internals::MIN_YEAR">MIN_YEAR</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </div><div class="desc docblock-short">MIN_YEAR is one year more than the type is capable of representing. Internally we may sometimes
use the headroom, notably to handle cases where the offset of a <code>DateTime</code> constructed with
<code>NaiveDate::MIN</code> pushes it beyond the valid, representable range.</div></li><li><div class="item-name"><a class="constant" href="constant.OL_TO_MDL.html" title="constant chrono::naive::internals::OL_TO_MDL">OL_TO_MDL</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.XX.html" title="constant chrono::naive::internals::XX">XX</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.YEAR_DELTAS.html" title="constant chrono::naive::internals::YEAR_DELTAS">YEAR_DELTAS</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </div></li><li><div class="item-name"><a class="constant" href="constant.YEAR_TO_FLAGS.html" title="constant chrono::naive::internals::YEAR_TO_FLAGS">YEAR_TO_FLAGS</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </div></li></ul><h2 id="functions" class="section-header"><a href="#functions">Functions</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.cycle_to_yo.html" title="fn chrono::naive::internals::cycle_to_yo">cycle_to_yo</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </div></li><li><div class="item-name"><a class="fn" href="fn.weekday_from_u32_mod7.html" title="fn chrono::naive::internals::weekday_from_u32_mod7">weekday_from_u32_mod7</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </div><div class="desc docblock-short">Create a <code>Weekday</code> from an <code>u32</code>, with Monday = 0.
Infallible, takes any <code>n</code> and applies <code>% 7</code>.</div></li><li><div class="item-name"><a class="fn" href="fn.yo_to_cycle.html" title="fn chrono::naive::internals::yo_to_cycle">yo_to_cycle</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </div></li></ul><h2 id="types" class="section-header"><a href="#types">Type Aliases</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.DateImpl.html" title="type chrono::naive::internals::DateImpl">DateImpl</a><span title="Restricted Visibility">&nbsp;ğŸ”’</span> </div><div class="desc docblock-short">The internal date representation: <code>year &lt;&lt; 13 | Of</code></div></li></ul></section></div></main></body></html>