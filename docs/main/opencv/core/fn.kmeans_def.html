<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Finds centers of clusters and groups input samples around the clusters."><title>kmeans_def in opencv::core - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-081576b923113409.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="opencv" data-themes="" data-resource-suffix="" data-rustdoc-version="1.79.0 (129f3b996 2024-06-10)" data-channel="1.79.0" data-search-js="search-bf21c90c8c1d92b1.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-e32f0c247825364d.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-20a3ad099b048cf2.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-09095024cf37855e.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../opencv/index.html">opencv</a><span class="version">0.92.0</span></h2></div><div class="sidebar-elems"><h2><a href="index.html">In opencv::core</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../../opencv/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Type ‘S’ or ‘/’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings">Settings</a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Function <a href="../index.html">opencv</a>::<wbr><a href="index.html">core</a>::<wbr><a class="fn" href="#">kmeans_def</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../src/opencv/home/runner/work/SW8S-Rust/SW8S-Rust/target/debug/build/opencv-530c950d76ccddc2/out/opencv/core.rs.html#6545-6553">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub fn kmeans_def(
    data: &amp;impl <a class="trait" href="../manual/core/input_output_array/trait.ToInputArray.html" title="trait opencv::manual::core::input_output_array::ToInputArray">ToInputArray</a>,
    k: <a class="primitive" href="https://doc.rust-lang.org/1.79.0/std/primitive.i32.html">i32</a>,
    best_labels: &amp;mut impl <a class="trait" href="../manual/core/input_output_array/trait.ToInputOutputArray.html" title="trait opencv::manual::core::input_output_array::ToInputOutputArray">ToInputOutputArray</a>,
    criteria: <a class="struct" href="../opencv/hub/core/struct.TermCriteria.html" title="struct opencv::opencv::hub::core::TermCriteria">TermCriteria</a>,
    attempts: <a class="primitive" href="https://doc.rust-lang.org/1.79.0/std/primitive.i32.html">i32</a>,
    flags: <a class="primitive" href="https://doc.rust-lang.org/1.79.0/std/primitive.i32.html">i32</a>
) -&gt; <a class="type" href="../error/type.Result.html" title="type opencv::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.79.0/std/primitive.f64.html">f64</a>&gt;</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Finds centers of clusters and groups input samples around the clusters.</p>
<p>The function kmeans implements a k-means algorithm that finds the centers of cluster_count clusters
and groups the input samples around the clusters. As an output, <img src="https://latex.codecogs.com/png.latex?%5Ctexttt%7BbestLabels%7D%5Fi" alt="inline formula" /> contains a
0-based cluster index for the sample stored in the <img src="https://latex.codecogs.com/png.latex?i%5E%7Bth%7D" alt="inline formula" /> row of the samples matrix.</p>
<p>Note:</p>
<ul>
<li>(Python) An example on K-means clustering can be found at
opencv_source_code/samples/python/kmeans.py</li>
</ul>
<h3 id="parameters"><a class="doc-anchor" href="#parameters">§</a>Parameters</h3>
<ul>
<li>data: Data for clustering. An array of N-Dimensional points with float coordinates is needed.
Examples of this array can be:</li>
<li>Mat points(count, 2, CV_32F);</li>
<li>Mat points(count, 1, CV_32FC2);</li>
<li>Mat points(1, count, CV_32FC2);</li>
<li>std::vector&lt;cv::Point2f&gt; points(sampleCount);</li>
<li>K: Number of clusters to split the set by.</li>
<li>bestLabels: Input/output integer array that stores the cluster indices for every sample.</li>
<li>criteria: The algorithm termination criteria, that is, the maximum number of iterations and/or
the desired accuracy. The accuracy is specified as criteria.epsilon. As soon as each of the cluster
centers moves by less than criteria.epsilon on some iteration, the algorithm stops.</li>
<li>attempts: Flag to specify the number of times the algorithm is executed using different
initial labellings. The algorithm returns the labels that yield the best compactness (see the last
function parameter).</li>
<li>flags: Flag that can take values of cv::KmeansFlags</li>
<li>centers: Output matrix of the cluster centers, one row per each cluster center.</li>
</ul>
<h3 id="returns"><a class="doc-anchor" href="#returns">§</a>Returns</h3>
<p>The function returns the compactness measure that is computed as
<img src="https://latex.codecogs.com/png.latex?%5Csum%20%5Fi%20%20%5C%7C%20%5Ctexttt%7Bsamples%7D%20%5Fi%20%2D%20%20%5Ctexttt%7Bcenters%7D%20%5F%7B%20%5Ctexttt%7Blabels%7D%20%5Fi%7D%20%5C%7C%20%5E2" alt="block formula" />
after every attempt. The best (minimum) value is chosen and the corresponding labels and the
compactness value are returned by the function. Basically, you can use only the core of the
function, set the number of attempts to 1, initialize labels each time using a custom algorithm,
pass them with the ( flags = <a href="../opencv/hub/core/constant.KMEANS_USE_INITIAL_LABELS.html" title="constant opencv::opencv::hub::core::KMEANS_USE_INITIAL_LABELS">KMEANS_USE_INITIAL_LABELS</a> ) flag, and then choose the best
(most-compact) clustering.</p>
<h3 id="note"><a class="doc-anchor" href="#note">§</a>Note</h3>
<p>This alternative version of <a href="../opencv/hub/core/fn.kmeans.html" title="fn opencv::opencv::hub::core::kmeans">kmeans</a> function uses the following default values for its arguments:</p>
<ul>
<li>centers: noArray()</li>
</ul>
</div></details></section></div></main></body></html>