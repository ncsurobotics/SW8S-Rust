<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Finds circles in a grayscale image using the Hough transform."><title>hough_circles_def in opencv::imgproc - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-5bc39a1768837dd0.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="opencv" data-themes="" data-resource-suffix="" data-rustdoc-version="1.77.2 (25ef9e3d8 2024-04-09)" data-channel="1.77.2" data-search-js="search-dd67cee4cfa65049.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-4c98445ec4002617.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-48f368f3872407c8.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-04d5337699b92874.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../opencv/index.html">opencv</a><span class="version">0.88.8</span></h2></div><div class="sidebar-elems"><h2><a href="index.html">In opencv::imgproc</a></h2></div></nav><div class="sidebar-resizer"></div>
    <main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../../opencv/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Function <a href="../index.html">opencv</a>::<wbr><a href="index.html">imgproc</a>::<wbr><a class="fn" href="#">hough_circles_def</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../src/opencv/home/runner/work/SW8S-Rust/SW8S-Rust/target/debug/build/opencv-a172a7b6a96aa462/out/opencv/imgproc.rs.html#2257-2265">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub fn hough_circles_def(
    image: &amp;impl <a class="trait" href="../manual/core/input_output_array/trait.ToInputArray.html" title="trait opencv::manual::core::input_output_array::ToInputArray">ToInputArray</a>,
    circles: &amp;mut impl <a class="trait" href="../manual/core/input_output_array/trait.ToOutputArray.html" title="trait opencv::manual::core::input_output_array::ToOutputArray">ToOutputArray</a>,
    method: <a class="primitive" href="https://doc.rust-lang.org/1.77.2/std/primitive.i32.html">i32</a>,
    dp: <a class="primitive" href="https://doc.rust-lang.org/1.77.2/std/primitive.f64.html">f64</a>,
    min_dist: <a class="primitive" href="https://doc.rust-lang.org/1.77.2/std/primitive.f64.html">f64</a>
) -&gt; <a class="type" href="../error/type.Result.html" title="type opencv::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.77.2/std/primitive.unit.html">()</a>&gt;</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Finds circles in a grayscale image using the Hough transform.</p>
<p>The function finds circles in a grayscale image using a modification of the Hough transform.</p>
<p>Example: :
@include snippets/imgproc_HoughLinesCircles.cpp</p>
<p>Note: Usually the function detects the centers of circles well. However, it may fail to find correct
radii. You can assist to the function by specifying the radius range ( minRadius and maxRadius ) if
you know it. Or, in the case of <a href="../opencv/hub/imgproc/constant.HOUGH_GRADIENT.html" title="constant opencv::opencv::hub::imgproc::HOUGH_GRADIENT">HOUGH_GRADIENT</a> method you may set maxRadius to a negative number
to return centers only without radius search, and find the correct radius using an additional procedure.</p>
<p>It also helps to smooth image a bit unless it’s already soft. For example,
GaussianBlur() with 7x7 kernel and 1.5x1.5 sigma or similar blurring may help.</p>
<h3 id="parameters"><a class="doc-anchor" href="#parameters">§</a>Parameters</h3>
<ul>
<li>image: 8-bit, single-channel, grayscale input image.</li>
<li>circles: Output vector of found circles. Each vector is encoded as  3 or 4 element
floating-point vector <img src="https://latex.codecogs.com/png.latex?%28x%2C%20y%2C%20radius%29" alt="inline formula" /> or <img src="https://latex.codecogs.com/png.latex?%28x%2C%20y%2C%20radius%2C%20votes%29" alt="inline formula" /> .</li>
<li>method: Detection method, see #HoughModes. The available methods are <a href="../opencv/hub/imgproc/constant.HOUGH_GRADIENT.html" title="constant opencv::opencv::hub::imgproc::HOUGH_GRADIENT">HOUGH_GRADIENT</a> and #HOUGH_GRADIENT_ALT.</li>
<li>dp: Inverse ratio of the accumulator resolution to the image resolution. For example, if
dp=1 , the accumulator has the same resolution as the input image. If dp=2 , the accumulator has
half as big width and height. For <a href="../opencv/hub/imgproc/constant.HOUGH_GRADIENT_ALT.html" title="constant opencv::opencv::hub::imgproc::HOUGH_GRADIENT_ALT">HOUGH_GRADIENT_ALT</a> the recommended value is dp=1.5,
unless some small very circles need to be detected.</li>
<li>minDist: Minimum distance between the centers of the detected circles. If the parameter is
too small, multiple neighbor circles may be falsely detected in addition to a true one. If it is
too large, some circles may be missed.</li>
<li>param1: First method-specific parameter. In case of <a href="../opencv/hub/imgproc/constant.HOUGH_GRADIENT.html" title="constant opencv::opencv::hub::imgproc::HOUGH_GRADIENT">HOUGH_GRADIENT</a> and #HOUGH_GRADIENT_ALT,
it is the higher threshold of the two passed to the Canny edge detector (the lower one is twice smaller).
Note that <a href="../opencv/hub/imgproc/constant.HOUGH_GRADIENT_ALT.html" title="constant opencv::opencv::hub::imgproc::HOUGH_GRADIENT_ALT">HOUGH_GRADIENT_ALT</a> uses <a href="../opencv/hub/imgproc/fn.scharr.html" title="fn opencv::opencv::hub::imgproc::scharr">scharr</a> algorithm to compute image derivatives, so the threshold value
shough normally be higher, such as 300 or normally exposed and contrasty images.</li>
<li>param2: Second method-specific parameter. In case of #HOUGH_GRADIENT, it is the
accumulator threshold for the circle centers at the detection stage. The smaller it is, the more
false circles may be detected. Circles, corresponding to the larger accumulator values, will be
returned first. In the case of <a href="../opencv/hub/imgproc/constant.HOUGH_GRADIENT_ALT.html" title="constant opencv::opencv::hub::imgproc::HOUGH_GRADIENT_ALT">HOUGH_GRADIENT_ALT</a> algorithm, this is the circle “perfectness” measure.
The closer it to 1, the better shaped circles algorithm selects. In most cases 0.9 should be fine.
If you want get better detection of small circles, you may decrease it to 0.85, 0.8 or even less.
But then also try to limit the search range [minRadius, maxRadius] to avoid many false circles.</li>
<li>minRadius: Minimum circle radius.</li>
<li>maxRadius: Maximum circle radius. If &lt;= 0, uses the maximum image dimension. If &lt; 0, <a href="../opencv/hub/imgproc/constant.HOUGH_GRADIENT.html" title="constant opencv::opencv::hub::imgproc::HOUGH_GRADIENT">HOUGH_GRADIENT</a> returns
centers without finding the radius. <a href="../opencv/hub/imgproc/constant.HOUGH_GRADIENT_ALT.html" title="constant opencv::opencv::hub::imgproc::HOUGH_GRADIENT_ALT">HOUGH_GRADIENT_ALT</a> always computes circle radiuses.</li>
</ul>
<h3 id="see-also"><a class="doc-anchor" href="#see-also">§</a>See also</h3>
<p>fitEllipse, minEnclosingCircle</p>
<h3 id="note"><a class="doc-anchor" href="#note">§</a>Note</h3>
<p>This alternative version of <a href="../opencv/hub/imgproc/fn.hough_circles.html" title="fn opencv::opencv::hub::imgproc::hough_circles">hough_circles</a> function uses the following default values for its arguments:</p>
<ul>
<li>param1: 100</li>
<li>param2: 100</li>
<li>min_radius: 0</li>
<li>max_radius: 0</li>
</ul>
</div></details></section></div></main></body></html>